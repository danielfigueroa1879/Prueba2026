<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>SPD - Subsecretar√≠a de Prevenci√≥n del Delito | OS10 Coquimbo</title>
    <meta name="description" content="Informaci√≥n sobre la Subsecretar√≠a de Prevenci√≥n del Delito - Plataforma de Seguridad Privada">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff"/>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="assets/js/spd-componentes.js" defer></script>
    <script src="assets/js/verificacion.js" defer></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-image: url('assets/images/101.webp');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-color: #f3f4f6;
        }
        
        .card-spd {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 2.3rem;
            margin: 1rem auto 2.3rem auto;
            max-width: 1100px; 
            position: relative;
        }
        
        .btn-spd {
            display: inline-flex;
            align-items: center;
            justify-content: flex-start;
            padding: 1.25rem 1.5rem;
            background: #0071e3;
            color: white;
            border-radius: 0.75rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            text-align: left;
            box-shadow: 0 4px 6px rgba(0, 113, 227, 0.2);
            width: 50%;
            min-width: 280px;
            cursor: pointer;
            border: none;
            min-height: 3.5rem;
        }
        
        #btnSPD {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #0071e3 0%, #0064cc 50%, #0071e3 100%);
            box-shadow: 0 6px 15px rgba(0, 113, 227, 0.25),
                        inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        
        #btnSPD::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.15) 50%,
                transparent 70%
            );
            animation: bubble-shine 8s infinite;
            pointer-events: none;
        }
        
        #btnSPD::after {
            content: '';
            position: absolute;
            top: 10%;
            left: 10%;
            width: 30%;
            height: 30%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.25) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(10px);
            animation: bubble-glow 4s infinite alternate;
            pointer-events: none;
        }
        
        @keyframes bubble-shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(0deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(360deg); }
        }
        
        @keyframes bubble-glow {
            0% { opacity: 0.2; transform: scale(1); }
            100% { opacity: 0.4; transform: scale(1.1); }
        }
        
        #btnSPD:hover {
            transform: translateY(-2px) scale(1.01);
            box-shadow: 0 10px 25px rgba(0, 113, 227, 0.35),
                        inset 0 1px 0 rgba(255, 255, 255, 0.25);
        }
        
        .btn-spd:hover {
            background: #0077ed;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0, 113, 227, 0.3);
        }
        
        .btn-spd-centered {
            width: 100%;
            max-width: 400px;
            justify-content: center;
            text-align: center;
        }
        
        .btn-spd.btn-green {
            background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        }
        
        .btn-spd.btn-green:hover {
            background: linear-gradient(135deg, #15803d 0%, #166534 100%);
        }
        
        .section-spd {
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background-color: #ffffff;
            border-radius: 0.75rem;
            border: 2px solid #cbd5e1; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); 
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
        }
        
        .section-icon {
            width: 2rem;
            height: 2rem;
            min-width: 2rem;
            background: #e1f0ff;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .section-icon svg {
            width: 1.25rem;
            height: 1.25rem;
            color: #0071e3;
        }
        
        .email-box {
            background-color: #f0f9ff;
            padding: 1rem;
            border-radius: 0.5rem;
            margin: 0.75rem 0;
            border: 1px solid #bfdbfe;
        }
        
        .email-box a {
            color: #0071e3;
            font-weight: 600;
            word-break: break-all;
            text-decoration: none;
        }
        
        .email-box a:hover {
            color: #005bb5;
            text-decoration: underline;
        }
        
        .note-important {
            background-color: #fef3c7;
            border: 1px solid #fcd34d;
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
        }
        
        .btn-volver-card {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #6b7280;
            font-weight: 600;
            transition: all 0.3s;
            z-index: 10;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            background: #f3f4f6;
            text-decoration: none;
            cursor: pointer;
            border: none;
        }
        
        .btn-volver-card:hover {
            color: #1f2937;
            background: #e5e7eb;
        }
        
        .feature-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.875rem;
            background: #f0f9ff;
            border: 1px solid #bfdbfe;
            border-radius: 0.5rem;
            font-size: 0.75rem;
            color: #0071e3;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        #vistaComponentes {
            display: none;
        }

        #vistaComponentes.active {
            display: block;
        }

        /* === BOTONES COMPONENTES === */
        .btn-componente {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            
            background: #ffffff;
            color: #1e293b;
            
            border: 1px solid #0071e3;
            
            border-radius: 1.5rem; 
            
            font-weight: 500;
            text-decoration: none;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            width: 100%;
            text-align: left;
            
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            
            position: relative;
            overflow: hidden;
            margin-bottom: 0;
            min-height: 100px;
        }

        /* T√çTULO PRINCIPAL - TAMA√ëO BASE (CELULAR) */
        .btn-componente .font-bold {
            color: #0f172a !important; 
            font-weight: 600;
            font-size: 0.95rem;
            display: block;
            transition: color 0.3s ease;
        }

        /* SUBT√çTULO - TAMA√ëO BASE (CELULAR) */
        .btn-componente .text-xs {
            color: #64748b !important; 
            font-weight: 400;
            margin-top: 2px;
            transition: color 0.3s ease;
            font-size: 0.7rem;
        }

        @media (min-width: 768px) {
            .btn-componente {
                padding: 1.25rem; 
                gap: 0.75rem; 
            }
        }

        /* ‚≠ê EN PC - LETRAS M√ÅS PEQUE√ëAS */
        @media (min-width: 1024px) {
            .btn-componente .font-bold {
                font-size: 0.85rem;
            }
            
            .btn-componente .text-xs {
                font-size: 0.62rem;
            }
        }

        .btn-componente:hover {
            transform: translateY(-3px);
            border-color: #0071e3;
            background: #0071e3 !important;
            box-shadow: 0 10px 25px -5px rgba(0, 113, 227, 0.4), 0 8px 10px -6px rgba(0, 113, 227, 0.1);
        }

        .btn-componente:hover .font-bold {
            color: #ffffff !important;
        }
        
        .btn-componente:hover .text-xs {
            color: #e0e7ff !important; 
        }

        .btn-componente-icon {
            width: 44px; 
            height: 44px;
            min-width: 44px;
            
            background: #f0f7ff; 
            color: #0071e3; 
            
            border-radius: 1rem; 
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-componente:hover .btn-componente-icon {
            background: #ffffff; 
            color: #0071e3; 
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .btn-componente-icon svg {
            width: 22px;
            height: 22px;
            stroke-width: 2;
            transition: transform 0.3s ease;
        }
        
        .btn-componente-arrow {
            margin-left: auto;
            color: #cbd5e1; 
            transition: all 0.3s ease;
        }
        
        @media (min-width: 1024px) {
            .btn-componente-arrow svg {
                width: 16px;
                height: 16px;
            }
        }

        .btn-componente:hover .btn-componente-arrow {
            color: #ffffff; 
            transform: translateX(4px);
        }
        
        .btn-componente::before {
            display: none;
        }

        .modal-requisitos {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 9999 !important;
            overflow-y: auto;
            padding: 1rem;
            backdrop-filter: blur(8px);
        }
        
        .modal-requisitos.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 2rem;
            padding-bottom: 2rem;
        }
        
        .modal-content {
            background: white;
            border-radius: 1rem;
            width: 100%; 
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideDown 0.3s ease-out;
            margin: 0 auto;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            background: #0071e3;
            color: white;
            padding: 1.5rem;
            border-radius: 1rem 1rem 0 0;
            position: sticky;
            top: 0;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .badge-componentes {
            display: inline-block;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }
        
        .badge-ley-componentes {
            background: #dbeafe;
            color: #0071e3;
            border: 1px solid #93c5fd;
        }
        
        .badge-decreto-componentes {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fcd34d;
        }
        
        .requisito-section-componentes {
            background: #f8fafc;
            padding: 1.25rem;
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #0071e3;
            border-top: 1px solid #cbd5e1;
            border-right: 1px solid #cbd5e1;
            border-bottom: 1px solid #cbd5e1;
        }
        
        .requisito-item-componentes {
            display: flex;
            gap: 0.875rem;
            align-items: flex-start;
            padding: 0.875rem;
            background: white;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
            transition: all 0.2s;
            width: 100%;
        }
        
        .requisito-item-componentes:hover {
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transform: translateX(2px);
            border-color: #bfdbfe;
        }
        
        .requisito-numero-componentes {
            min-width: 2rem;
            width: 2rem;
            height: 2rem;
            background: #0071e3;
            color: white;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.875rem;
            flex-shrink: 0;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.4s ease-out;
        }

        @media (max-width: 768px) {
            .card-spd {
                padding: 1rem;
                margin: 1%;
                width: 98%;
                max-width: 98%;
                border-radius: 0.5rem;
            }
            
            .modal-content {
                width: 99% !important;
                max-width: 99% !important;
                margin: 0 auto;
            }
            
            .modal-requisitos {
                padding: 0.25rem !important;
            }
            
            .modal-requisitos.active {
                padding-top: 0.5rem !important;
                padding-bottom: 0.5rem !important;
            }

            .modal-body {
                padding: 0.75rem;
            }

            .requisito-item-componentes {
                width: 99%;
                margin: 0 auto;
                padding: 0.75rem;
                font-size: 0.9rem;
            }

            .container {
                padding-left: 0 !important;
                padding-right: 0 !important;
            }
            
            #main-content {
                padding: 0 !important;
            }
            
            .section-spd {
                padding: 1.25rem;
                border: 2px solid #cbd5e1 !important; 
            }
            
            .section-title {
                font-size: 1.125rem;
            }
            
            .section-spd .btn-spd {
                width: 75% !important; 
                min-width: auto !important;
                max-width: 75% !important;
                padding: 0.875rem 1rem;
                font-size: 0.875rem;
                margin-right: auto !important;
                background: #0071e3;
                display: flex;
            }
            
            .section-spd .btn-spd.btn-green {
                background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
            }
            
            .btn-spd-centered {
                width: 100%;
            }
            
            .btn-volver-card {
                top: 0.75rem;
                right: 0.75rem;
                padding: 0.375rem 0.75rem;
                font-size: 0.875rem;
            }
            
            .btn-volver-card span {
                display: none;
            }
            
            .btn-volver-card svg {
                width: 1.25rem;
                height: 1.25rem;
            }
            
            .feature-badge {
                font-size: 0.625rem;
                padding: 0.375rem 0.625rem;
            }
            
            .section-icon {
                width: 1.75rem;
                height: 1.75rem;
                min-width: 1.75rem;
            }
            
            .section-icon svg {
                width: 1rem;
                height: 1rem;
            }

            .btn-componente {
                padding: 1rem 1rem;
                gap: 1rem;
                width: 94%; 
                margin-left: auto;
                margin-right: auto;
            }

            .btn-componente-icon {
                width: 42px;
                height: 42px;
                min-width: 42px;
            }

            .btn-componente-icon svg {
                width: 22px;
                height: 22px;
            }
        }

        @media (max-width: 480px) {
            .card-spd {
                padding: 0.75rem;
                margin: 0.5%;
                width: 99%;
                max-width: 99%;
            }
            
            .modal-content {
                width: 99% !important;
            }
            
            .section-spd {
                padding: 1rem;
            }
            
            .section-title {
                font-size: 1rem;
                gap: 0.5rem;
            }
            
            body {
                padding-top: 3.5rem;
            }
        }

        @media (min-width: 481px) and (max-width: 640px) {
            .card-spd {
                width: 96%;
                margin: 2%;
            }
        }

        @media (min-width: 641px) and (max-width: 768px) {
            .card-spd {
                width: 94%;
                margin: 3%;
            }
        }
        
        @media (min-width: 1024px) {
            .section-spd .btn-spd {
                width: 35% !important;
                max-width: 420px;
                margin-left: 0 !important;
                margin-right: auto !important;
            }
            
            .btn-spd-centered {
                width: 50% !important;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }
            
            #vistaPrincipal .text-center.mb-8 {
                padding-top: 2rem !important;
            }
        }
        
        @media print {
            .fixed, .btn-volver-card, .close-modal, footer, .btn-componente-arrow, #vistaPrincipal, #vistaComponentes, .btn-componente, button {
                display: none !important;
            }
            
            body {
                padding-top: 0 !important;
                background: white !important;
            }
            
            .modal-requisitos {
                position: static !important;
                display: block !important;
                padding: 0 !important;
                background: white !important;
                overflow: visible !important;
            }
            
            .modal-requisitos.active {
                display: block !important;
            }
            
            .modal-content {
                position: static !important;
                transform: none !important;
                max-height: none !important;
                height: auto !important;
                width: 100% !important;
                max-width: 100% !important;
                margin: 0 !important;
                padding: 20px !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                overflow: visible !important;
            }
            
            .modal-header {
                border-bottom: 2px solid #333 !important;
                padding-bottom: 10px !important;
                margin-bottom: 20px !important;
                page-break-after: avoid !important;
            }
            
            .modal-body {
                max-height: none !important;
                overflow: visible !important;
                padding: 0 !important;
            }
            
            .requisito-section-componentes {
                page-break-inside: auto !important;
                break-inside: auto !important;
                page-break-before: auto !important;
                page-break-after: auto !important;
            }
            
            .requisito-item-componentes {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
            }
            
            body {
                font-size: 11pt !important;
                line-height: 1.4 !important;
                color: #000 !important;
            }
            
            h2, h3, h4 {
                color: #000 !important;
                page-break-after: avoid !important;
            }
            
            .badge-ley-componentes, .badge-decreto-componentes {
                border: 1px solid #333 !important;
                padding: 2px 6px !important;
            }
            
            .requisito-numero-componentes {
                background: #333 !important;
                color: white !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .requisito-section-componentes {
                background: #f8f8f8 !important;
                border-left: 3px solid #333 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
        }
        
        .btn-pdf-modal {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background-color: #dc2626;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);
        }
        .btn-pdf-modal:hover {
            background-color: #b91c1c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(220, 38, 38, 0.5);
        }
        .btn-pdf-modal:active {
            transform: translateY(0);
        }
        .btn-pdf-modal svg {
            width: 1.25rem;
            height: 1.25rem;
        }
        
        .pdf-download-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            z-index: 99999;
            pointer-events: none;
            opacity: 0;
        }
        
        .pdf-download-animation.active {
            animation: pdfBounce 4.4s ease-in forwards;
        }
        
        .pdf-icon-animated {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 40px rgba(220, 38, 38, 0.5);
        }
        
        .pdf-icon-animated svg {
            width: 50px;
            height: 50px;
            color: white;
        }
        
        @keyframes pdfBounce {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            5% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            15% {
                opacity: 1;
                transform: translate(-50%, -130%) scale(1.15);
            }
            25% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            26% {
                opacity: 1;
                transform: translate(-30%, -100%) scale(0.9);
            }
            28% {
                opacity: 1;
                transform: translate(-10%, -130%) scale(0.8);
            }
            32% {
                opacity: 0.9;
                transform: translate(15%, -160%) scale(0.7);
            }
            38% {
                opacity: 0.7;
                transform: translate(35%, -200%) scale(0.55);
            }
            45% {
                opacity: 0.4;
                transform: translate(50%, -250%) scale(0.4);
            }
            62% {
                opacity: 0.2;
                transform: translate(60%, -300%) scale(0.25);
            }
            100% {
                opacity: 0;
                transform: translate(70%, -350%) scale(0.1);
            }
        }
        
        @media (max-width: 640px) {
            .pdf-icon-animated {
                width: 70px;
                height: 70px;
            }
            .pdf-icon-animated svg {
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body class="min-h-screen pt-14 sm:pt-16">
    <!-- Banner superior -->
    <div class="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-200 h-14 sm:h-16 flex items-center justify-between px-3 sm:px-4 shadow-sm">
        <a href="index.html" class="flex items-center space-x-1 sm:space-x-2">
            <img src="assets/images/logo-os10.png" alt="OS10 Logo" class="h-8 sm:h-10" loading="lazy">
            <span class="font-bold text-gray-980 text-sm sm:text-base">O.S.10 Coquimbo</span>
        </a>
    </div>

    <!-- Contenido principal con container angosto -->
    <div id="main-content" class="max-w-4xl mx-auto px-1 sm:px-4">
        <!-- VISTA PRINCIPAL (SPD) -->
        <div id="vistaPrincipal" class="card-spd">
            <!-- BOT√ìN VOLVER -->
            <a href="index.html" class="btn-volver-card" onclick="volverAlIndex(event)">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                </svg>
                <span>Volver</span>
            </a>
            
            <!-- Encabezado -->
            <div class="text-center mb-8 pt-12 sm:pt-4">
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-3">
                    PORTAL DE INFORMACI√ìN A LA SUBSECRETAR√çA DE PREVENCI√ìN DEL DELITO
                </h1>
                <p class="text-sm sm:text-base text-gray-600 mb-4">
                    Accede a la plataforma de Seguridad Privada y consulta informaci√≥n relevante
                </p>
                <div class="flex justify-center">
                    <a href="https://segprivada.minsegpublica.gob.cl/" target="_blank" class="btn-spd btn-spd-centered" id="btnSPD">
                        Acceder a la Plataforma SPD
                    </a>
                </div>
            </div>
            
            <!-- Informativo -->
            <div class="section-spd">
                <div class="section-title">
                    <div class="section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                        </svg>
                    </div>
                    <span>Informaci√≥n y Tr√°mites</span>
                </div>
                <p class="text-sm text-gray-600 mb-4">
                    Consulta el informativo oficial y realiza consultas sobre tr√°mites:
                </p>
                <div class="flex flex-col gap-3 w-full">
                    <a href="https://segprivada-docs.minsegpublica.gob.cl/Informativo_N1.pdf" target="_blank" class="btn-spd text-sm">
                        üìÑ ¬øD√≥nde hacer los tr√°mites?
                    </a>
                    <a href="https://siac-msp.interior.gob.cl/ingreso" target="_blank" class="btn-spd text-sm">
                        üí¨ Dudas y consultas 
                    </a>
                </div>
            </div>

            <!-- Preguntas Frecuentes -->
            <div class="section-spd">
                <div class="section-title">
                    <div class="section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <span>Preguntas Frecuentes</span>
                </div>
                <p class="text-sm text-gray-600 mb-4">
                    Encuentra respuestas a las consultas m√°s comunes sobre seguridad privada:
                </p>
                <div>
                    <a href="https://segprivada.minsegpublica.gob.cl/preguntas-frecuentes" target="_blank" class="btn-spd text-sm">
                        Ver Preguntas Frecuentes
                    </a>
                </div>
            </div>

            <!-- Componentes de Seguridad Privada -->
            <div class="section-spd">
                <div class="section-title">
                    <div class="section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path>
                        </svg>
                    </div>
                    <span>Requisitos por Componente</span>
                </div>
                <p class="text-sm text-gray-600 mb-3">
                    Consulta los requisitos completos seg√∫n <strong>Ley 21.659</strong> y <strong>Decreto 209</strong>:
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="feature-badge">‚úì Vigilantes Privados</span>
                    <span class="feature-badge">‚úì Jefes de Seguridad</span>
                    <span class="feature-badge">‚úì Guardias</span>
                    <span class="feature-badge">‚úì Supervisores</span>
                    <span class="feature-badge">‚úì Asesores</span>
                    <span class="feature-badge">‚úì Capacitadores</span>
                    <span class="feature-badge">‚úì Y m√°s...</span>
                </div>
                <div>
                    <button onclick="mostrarComponentes()" class="btn-spd btn-green text-sm">
                        üìã Requisitos por Componente
                    </button>
                </div>
            </div>

            <!-- Asignaturas de Capacitaci√≥n -->
            <div class="section-spd">
                <div class="section-title">
                    <div class="section-icon" style="background: #fef3c7;">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2" style="color: #d97706;">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                    </div>
                    <span>Asignaturas de Capacitaci√≥n</span>
                </div>
                <p class="text-sm text-gray-600 mb-3">
                    Consulta las <strong>mallas de capacitaci√≥n completas</strong> seg√∫n <strong>Decreto 209</strong>:
                </p>
                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="feature-badge" style="background: white; color: #d97706; border: 1px solid #d97706;">‚úì Vigilantes Privados (13 asignaturas - 100h)</span>
                    <span class="feature-badge" style="background: white; color: #d97706; border: 1px solid #d97706;">‚úì Guardias de Seguridad (12 asignaturas - 90h)</span>
                    <span class="feature-badge" style="background: white; color: #d97706; border: 1px solid #d97706;">‚úì Porteros/Nocheros/Rondines (8 asignaturas - 60h)</span>
                </div>
                <div>
                    <button onclick="mostrarAsignaturas()" class="btn-spd text-sm" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; box-shadow: 0 4px 6px rgba(217, 119, 6, 0.3);">
                        üìö Asignaturas Capacitaci√≥n
                    </button>
                </div>
            </div>

            <!-- Contacto por Correo -->
            <div class="section-spd">
                <div class="section-title">
                    <div class="section-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <span>Contacto por Correo Electr√≥nico</span>
                </div>
                <p class="text-sm text-gray-600 mb-4 font-semibold">
                    Si la plataforma no funciona, contacta por correo:
                </p>
                
                <div class="space-y-4">
                    <div>
                        <h3 class="text-sm font-bold text-gray-800 mb-2">
                            üìã OTEC - Carga Sobredimensionada - Persona Natural y Jur√≠dica
                        </h3>
                        <div class="email-box">
                            <a href="mailto:spd-cargadimensionada@minsegpublica.gob.cl" class="text-blue-600 hover:text-blue-800 font-semibold">
                                spd-cargadimensionada@minsegpublica.gob.cl
                            </a>
                        </div>
                        <ul class="mt-2 ml-6 text-xs text-gray-600 list-disc space-y-1">
                            <li>Organismos T√©cnicos de Capacitaci√≥n (OTEC)</li>
                            <li>Consultas sobre carga sobredimensionada</li>
                            <li>Tr√°mites para personas naturales y jur√≠dicas</li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-sm font-bold text-gray-800 mb-2">
                            üéì Planes, Programas y Cursos de Capacitaci√≥n
                        </h3>
                        <div class="email-box">
                            <a href="mailto:spd-capacitacionessp@minsegpublica.gob.cl" class="text-blue-600 hover:text-blue-800 font-semibold">
                                spd-capacitacionessp@minsegpublica.gob.cl
                            </a>
                        </div>
                        <ul class="mt-2 ml-6 text-xs text-gray-600 list-disc space-y-1">
                            <li>Consultas sobre planes de capacitaci√≥n</li>
                            <li>Programas de formaci√≥n en seguridad privada</li>
                            <li>Informaci√≥n sobre cursos disponibles</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Nota Importante -->
            <div class="note-important">
                <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div>
                        <h3 class="text-sm font-bold text-gray-800 mb-2">‚ÑπÔ∏è Informaci√≥n Importante</h3>
                        <p class="text-xs text-gray-700 space-y-1">
                            <span class="block">‚û¢ Lo que no aparezca en la plataforma de la SPD debe tramitarse en el <strong>O.S.10 Coquimbo</strong>.</span>
                            <span class="block">‚û¢ En la plataforma SPD <strong>no es necesario el Certificado de Idoneidad C√≠vica</strong>, ya que mantienen esa informaci√≥n actualizada.</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- VISTA DE COMPONENTES (OCULTA POR DEFECTO) -->
        <div id="vistaComponentes" class="card-spd animate-in">
            <!-- BOT√ìN VOLVER A SPD -->
            <button onclick="volverASPD()" class="btn-volver-card">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2.5" class="w-5 h-5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                </svg>
                <span>Volver</span>
            </button>

            <!-- Encabezado -->
            <div class="text-center mb-6 pt-12 sm:pt-4">
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-3">
                    Componentes de Seguridad Privada
                </h1>
                <p class="text-sm sm:text-base text-gray-600">
                    Selecciona un componente para ver sus requisitos completos
                </p>
            </div>
            <!-- LISTA DE COMPONENTES: GRID 3 COLUMNAS PARA PC (MODIFICADO) -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 lg:gap-4">
                <button onclick="mostrarRequisitos('vigilante')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Vigilante Privado</div>
                        <div class="text-xs">Protecci√≥n con armas de fuego</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('jefe')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Jefe de Seguridad</div>
                        <div class="text-xs">Direcci√≥n y gesti√≥n de seguridad</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('encargado')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Encargado de Seguridad</div>
                        <div class="text-xs">Coordinaci√≥n en recintos</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('guardia')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Guardia de Seguridad</div>
                        <div class="text-xs">Protecci√≥n sin armas de fuego</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('supervisor')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Supervisor de Seguridad</div>
                        <div class="text-xs">Supervisi√≥n y control</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('asesor')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Asesor de Seguridad</div>
                        <div class="text-xs">Asesor√≠a y estudios de seguridad</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('capacitador')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Capacitador</div>
                        <div class="text-xs">Formaci√≥n y capacitaci√≥n</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('portero')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Portero / Nochero / Rond√≠n</div>
                        <div class="text-xs">Funciones en recintos</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('encargadoArmas')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Encargado de Armas</div>
                        <div class="text-xs">Resguardo de armamento</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('tecnico')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">T√©cnico en Seguridad Privada</div>
                        <div class="text-xs">Sistemas electr√≥nicos</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('operador')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Operador de C√°maras y Alarmas</div>
                        <div class="text-xs">Televigilancia y control</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('instalador')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Instalador T√©cnico</div>
                        <div class="text-xs">Instalaci√≥n de sistemas</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>

                <button onclick="mostrarRequisitos('empresa')" class="btn-componente">
                    <div class="btn-componente-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <div class="font-bold">Empresas de Seguridad Privada</div>
                        <div class="text-xs">Recursos Humanos, Capacitadoras, Asesoras y T√©cnicos</div>
                    </div>
                    <div class="btn-componente-arrow">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </button>
            </div>
        </div>
    </div>
    
    <!-- MODAL DE REQUISITOS -->
    <div id="modalRequisitos" class="modal-requisitos">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitulo" class="text-xl sm:text-2xl font-bold pr-12"></h2>
                <button onclick="cerrarModal()" class="close-modal">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div id="modalContenido" class="modal-body"></div>
        </div>
    </div>
    
    <!-- Animaci√≥n de descarga PDF -->
    <div id="pdfDownloadAnimation" class="pdf-download-animation">
        <div class="pdf-icon-animated">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17h6M9 13h6M9 9h3"></path>
            </svg>
        </div>
    </div>
    
    <!-- JAVASCRIPT PARA MODALES Y PDF -->
    <script>
// Funci√≥n para cerrar el modal
        function cerrarModal() {
            const modal = document.getElementById('modalRequisitos');
            modal.classList.remove('active');
            
            // Restaurar scroll del body inmediatamente
            document.body.style.overflow = '';
            
            // Limpiar contenido despu√©s de que termine la animaci√≥n de cierre
            setTimeout(() => {
                const contenido = document.getElementById('modalContenido');
                if (contenido) {
                    contenido.innerHTML = '';
                }
            }, 300);
        }

        // Funci√≥n para descargar el contenido del modal en PDF
function descargarModalPDF(tipo) {
    // Obtener el t√≠tulo del modal
    const titulo = document.getElementById('modalTitulo').textContent;
    const contenido = document.getElementById('modalContenido');
    
    // Mostrar animaci√≥n PRIMERO
    const animacion = document.getElementById('pdfDownloadAnimation');
    if (animacion) {
        animacion.classList.add('active');
        setTimeout(() => {
            animacion.classList.remove('active');
        }, 5500);
    }
    
    // ESPERAR 2 SEGUNDOS antes de generar el PDF
    // Esto permite que la animaci√≥n se vea primero
    setTimeout(() => {
        // Crear un contenedor temporal con el contenido
        const contenedorTemp = document.createElement('div');
        contenedorTemp.style.cssText = 'padding: 5px; background-color: white; margin: 0; width: 100%;';
        
        // Agregar t√≠tulo
        const tituloElement = document.createElement('h1');
        tituloElement.textContent = titulo;
        tituloElement.style.cssText = 'font-size: 20px; font-weight: bold; margin: 0 0 10px 0; padding: 0; color: #1f2937;';
        contenedorTemp.appendChild(tituloElement);
        
        // Clonar el contenido del modal
        const contenidoClone = contenido.cloneNode(true);
        
        // Ocultar bot√≥n de descarga en el clon
        const botonPDF = contenidoClone.querySelector('.btn-pdf-modal');
        if (botonPDF) {
            botonPDF.remove();
        }
        
        // CR√çTICO: Eliminar TODOS los espacios y m√°rgenes grandes
        contenidoClone.style.cssText = 'margin: 0; padding: 0;';
        
        // Aplicar estilos a TODOS los elementos para flujo continuo
        const todosLosElementos = contenidoClone.querySelectorAll('*');
        todosLosElementos.forEach(elemento => {
            // Eliminar m√°rgenes verticales grandes
            if (elemento.style.marginTop) elemento.style.marginTop = '0';
            if (elemento.style.marginBottom) elemento.style.marginBottom = '0';
            if (elemento.style.paddingTop) elemento.style.paddingTop = '0';
            if (elemento.style.paddingBottom) elemento.style.paddingBottom = '0';
            
            // Aplicar m√°rgenes peque√±os a secciones
            if (elemento.classList.contains('requisito-section-componentes')) {
                elemento.style.cssText += 'margin: 5px 0 !important; padding: 8px !important; page-break-inside: avoid; page-break-after: auto; page-break-before: auto;';
            }
            
            // Aplicar estilos a items
            if (elemento.classList.contains('requisito-item-componentes')) {
                elemento.style.cssText += 'margin: 3px 0 !important; padding: 6px !important; page-break-inside: avoid;';
            }
            
            // Reducir espacios en divs con clases de Tailwind
            if (elemento.className && typeof elemento.className === 'string') {
                if (elemento.className.includes('mt-')) {
                    elemento.style.marginTop = '5px';
                }
                if (elemento.className.includes('mb-')) {
                    elemento.style.marginBottom = '5px';
                }
                if (elemento.className.includes('space-y-')) {
                    elemento.style.cssText += 'gap: 5px;';
                }
            }
        });
        
        contenedorTemp.appendChild(contenidoClone);
        
        // Generar nombre de archivo
        const nombreArchivo = `OS10-Requisitos-${titulo.replace(/\s+/g, '-')}.pdf`;
        
        // Configuraci√≥n del PDF optimizada para flujo continuo
        const opciones = {
            margin: [8, 8, 8, 8],
            filename: nombreArchivo,
            image: { 
                type: 'jpeg', 
                quality: 0.96 
            },
            html2canvas: { 
                scale: 1.5,
                useCORS: true,
                logging: false,
                letterRendering: true,
                backgroundColor: '#ffffff',
                scrollY: 0,
                scrollX: 0,
                windowHeight: document.documentElement.scrollHeight,
                onclone: function(clonedDoc) {
                    const clonedContent = clonedDoc.body.querySelector('div');
                    if (clonedContent) {
                        const allElements = clonedContent.querySelectorAll('*');
                        allElements.forEach(el => {
                            el.style.pageBreakInside = 'auto';
                            el.style.pageBreakBefore = 'auto';
                            el.style.pageBreakAfter = 'auto';
                        });
                    }
                }
            },
            jsPDF: { 
                unit: 'mm', 
                format: 'a4', 
                orientation: 'portrait',
                compress: true
            },
            pagebreak: { 
                mode: [],
                before: [],
                after: [],
                avoid: []
            }
        };
        
        // Generar y descargar PDF
        html2pdf().set(opciones).from(contenedorTemp).save().then(() => {
            console.log('‚úÖ PDF descargado:', nombreArchivo);
        }).catch(error => {
            console.error('‚ùå Error al generar PDF:', error);
            alert('Error al generar el PDF. Por favor, intenta nuevamente.');
        });
        
    }, 3500); // ESPERA 2 SEGUNDOS antes de generar PDF
}
    </script>
    
    <!-- Footer -->
    <footer class="text-white py-6 mt-8" style="background-color: #156315;">
         <div class="mt-8 border-t border-gray-700 pt-8 text-center text-sm">
                <p>¬© 2026 Prefectura de Coquimbo, O.S.10. Todos los derechos reservados.</p>
                <p class="mt-1">Plataforma desarrollada por Daniel Figueroa Ch. Ingeniero en Inform√°tica & Ciberseguridad</p>
            </div>
    </footer>

    <!-- JAVASCRIPT INTEGRADO -->
    <script>
        // ===== FUNCIONES DE NAVEGACI√ìN =====
        
        // Mostrar vista de componentes
        function mostrarComponentes() {
            const vistaPrincipal = document.getElementById('vistaPrincipal');
            const vistaComponentes = document.getElementById('vistaComponentes');
            
            if (vistaPrincipal && vistaComponentes) {
                vistaPrincipal.style.display = 'none';
                vistaComponentes.style.display = 'block';
                vistaComponentes.classList.add('active');
                window.scrollTo(0, 0);
            }
        }

        // Volver a vista principal
        function volverASPD() {
            const vistaPrincipal = document.getElementById('vistaPrincipal');
            const vistaComponentes = document.getElementById('vistaComponentes');
            cerrarModal(); // Cerrar modal si est√° abierto
            
            if (vistaPrincipal && vistaComponentes) {
                vistaComponentes.classList.remove('active');
                vistaComponentes.style.display = 'none';
                vistaPrincipal.style.display = 'block';
                window.scrollTo(0, 0);
            }
        }

        // Funci√≥n para cerrar modal y restaurar banners
        function cerrarModal() {
            const modal = document.getElementById('modalRequisitos');
            if (!modal) return;
            
            modal.classList.remove('active');
            document.body.style.overflow = '';
            
            // MOSTRAR BANNERS NUEVAMENTE
            const bannerBlanco = document.getElementById('banner');
            const bannerVerde = document.querySelector('.desktop-navbar');
            if (bannerBlanco) bannerBlanco.style.display = 'flex';
            if (bannerVerde && window.innerWidth >= 1024) bannerVerde.style.display = 'block';
        }

        // Mostrar asignaturas de capacitaci√≥n
        function mostrarAsignaturas() {
            const modal = document.getElementById('modalRequisitos');
            if (!modal) return;
            
            const titulo = document.getElementById('modalTitulo');
            const contenido = document.getElementById('modalContenido');
            
            // PASO 1: LIMPIAR COMPLETAMENTE
            contenido.innerHTML = '';
            titulo.textContent = '';
            
            titulo.textContent = 'ASIGNATURAS DE CAPACITACI√ìN';
            
            let html = `
                <div class="mb-6 p-4 bg-blue-50 border-l-4 border-blue-600 rounded">
                    <p class="text-sm text-gray-700 font-semibold" style="text-align: justify;">
                        üìö Estas son las asignaturas que deben aprobarse seg√∫n el Decreto 209 para obtener la certificaci√≥n correspondiente
                    </p>
                </div>
            `;
            
            // VIGILANTES PRIVADOS
            html += `
                <div class="requisito-section-componentes mb-6 bg-blue-50 border-l-4 border-blue-500">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">VIGILANTES PRIVADOS</h3>
                    <div class="mb-3 flex flex-wrap gap-2">
                        <span class="badge-componentes badge-decreto-componentes">Art√≠culo 27 - Decreto 209</span>
                        <span class="badge-componentes" style="background:#10b981; color:white;">100 horas pedag√≥gicas</span>
                        <span class="badge-componentes" style="background:#f59e0b; color:white;">40 horas cada 2 a√±os</span>
                    </div>
                    <div class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded">
                        <p class="text-sm font-bold text-gray-800" style="text-align: justify;">AUTORIZADOS PARA PORTAR ARMAS DE FUEGO DENTRO DE UN RECINTO O √ÅREA DETERMINADA</p>
                    </div>
                    <ul class="space-y-2">
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">1. Legislaci√≥n aplicada a la seguridad privada</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">2. Respeto y promoci√≥n de los derechos humanos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">3. Privacidad y uso de datos personales</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">4. Instrucci√≥n f√≠sica</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">5. Correcto uso de elementos defensivos y de protecci√≥n</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">6. Primeros auxilios</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">7. Prevenci√≥n de riesgos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">8. Seguridad de instalaciones</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">9. Probidad, no discriminaci√≥n y perspectiva de g√©nero</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">10. Seguridad electr√≥nica</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">11. Sistema de telecomunicaciones</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">12. T√©cnicas de reducci√≥n</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">13. Conocimiento de arma y tiro, de conformidad al reglamento complementario de la ley N¬∞ 17.798</li>
                    </ul>
                </div>
            `;
            
            // GUARDIAS DE SEGURIDAD
            html += `
                <div class="requisito-section-componentes mb-6 bg-green-50 border-l-4 border-green-500">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">GUARDIAS DE SEGURIDAD</h3>
                    <div class="mb-3 flex flex-wrap gap-2">
                        <span class="badge-componentes badge-decreto-componentes">Art√≠culo 107 N¬∞1 - Decreto 209</span>
                        <span class="badge-componentes" style="background:#10b981; color:white;">90 horas pedag√≥gicas</span>
                        <span class="badge-componentes" style="background:#f59e0b; color:white;">36 horas cada 4 a√±os</span>
                    </div>
                    <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded">
                        <p class="text-sm font-bold text-gray-800" style="text-align: justify;">SIN AUTORIZACI√ìN PARA PORTAR ARMAS DE FUEGO</p>
                    </div>
                    <ul class="space-y-2">
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">1. Legislaci√≥n aplicada a seguridad privada</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">2. Respeto y promoci√≥n de los derechos humanos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">3. Privacidad y uso de datos personales</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">4. Instrucci√≥n f√≠sica</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">5. Correcto uso de elementos defensivos y de protecci√≥n</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">6. Primeros auxilios</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">7. Prevenci√≥n de riesgos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">8. Seguridad de las instalaciones</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">9. Probidad, no discriminaci√≥n y perspectiva de g√©nero</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">10. Seguridad electr√≥nica</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">11. Sistema de telecomunicaciones</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">12. T√©cnicas de reducci√≥n</li>
                    </ul>
                </div>
            `;
            
            // PORTEROS/NOCHEROS/RONDINES
            html += `
                <div class="requisito-section-componentes mb-6 bg-purple-50 border-l-4 border-purple-500">
                    <h3 class="text-xl font-bold text-gray-900 mb-2">PORTEROS, NOCHEROS, RONDINES U OTROS DE SIMILAR CAR√ÅCTER</h3>
                    <div class="mb-3 flex flex-wrap gap-2">
                        <span class="badge-componentes badge-decreto-componentes">Art√≠culo 107 N¬∞2 - Decreto 209</span>
                        <span class="badge-componentes" style="background:#10b981; color:white;">60 horas pedag√≥gicas</span>
                        <span class="badge-componentes" style="background:#f59e0b; color:white;">30 horas cada 4 a√±os</span>
                    </div>
                    <div class="mb-4 p-3 bg-red-50 border border-red-200 rounded">
                        <p class="text-sm font-bold text-gray-800" style="text-align: justify;">SIN AUTORIZACI√ìN PARA PORTAR ARMAS DE FUEGO</p>
                    </div>
                    <ul class="space-y-2">
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">1. Legislaci√≥n aplicada a seguridad privada</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">2. Respeto y promoci√≥n de los derechos humanos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">3. Privacidad y uso de datos personales</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">4. Correcto uso de elementos defensivos y de protecci√≥n</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">5. Primeros auxilios</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">6. Prevenci√≥n de riesgos</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">7. Seguridad de las instalaciones</li>
                        <li class="requisito-item-componentes" style="text-align: justify; background:#ffffff;">8. Probidad, no discriminaci√≥n y perspectiva de g√©nero</li>
                    </ul>
                </div>
            `;
            
            html += `
                <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded">
                    <p class="text-sm text-gray-700" style="text-align: justify;">
                        <strong>‚ö†Ô∏è Nota Importante:</strong> Las asignaturas de <strong>arma y tiro, t√©cnicas de reducci√≥n y primeros auxilios</strong> deben ser <strong>siempre presenciales</strong>. Las dem√°s pueden ser telem√°ticas o presenciales.
                    </p>
                </div>
                
                <div class="mt-6 p-4 bg-gray-50 border-l-4 border-gray-500 rounded">
                    <p class="text-sm text-gray-700">
                        <strong>üìå M√°s informaci√≥n:</strong> 
                        <a href="https://segprivada.minsegpublica.gob.cl/" target="_blank" class="text-blue-600 hover:text-blue-800 underline">
                            https://segprivada.minsegpublica.gob.cl/
                        </a>
                    </p>
                </div>
                
                <button onclick="descargarModalPDF('asignaturas')" class="btn-pdf-modal mt-6">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    Descargar PDF
                </button>
            `;
            
            contenido.innerHTML = html;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // OCULTAR BANNERS PARA EVITAR OBSTRUCCI√ìN
            const bannerBlanco = document.getElementById('banner');
            const bannerVerde = document.querySelector('.desktop-navbar');
            if (bannerBlanco) bannerBlanco.style.display = 'none';
            if (bannerVerde) bannerVerde.style.display = 'none';
        }

        // Alternar texto del bot√≥n SPD cada 3 segundos
        (function() {
            const btnSPD = document.getElementById('btnSPD');
            if (!btnSPD) return;         
            const textos = [
                'Subsecretar√≠a Prevenci√≥n del delito',
                'üîç Informaci√≥n SPD',
                'Subsecretar√≠a Prevenci√≥n del delito',
                '‚úÖ SPD'
            ];
            
            let index = 0;
            
            setInterval(() => {
                btnSPD.textContent = textos[index];
                index = (index + 1) % textos.length;
            }, 3000);
        })();
    </script>
</body>
</html>
